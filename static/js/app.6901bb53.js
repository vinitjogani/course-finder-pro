(function(e){function t(t){for(var n,i,o=t[0],u=t[1],c=t[2],d=0,f=[];d<o.length;d++)i=o[d],r[i]&&f.push(r[i][0]),r[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],n=!0,o=1;o<s.length;o++){var u=s[o];0!==r[u]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=s[0]))}return e}var n={},r={app:0},a=[];function i(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=n,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var n=s("c21b"),r=s.n(n);r.a},"0e31":function(e,t,s){"use strict";var n=s("1c00"),r=s.n(n);r.a},"0ef7":function(e,t,s){},"1c00":function(e,t,s){},"3ce2":function(e,t,s){"use strict";var n=s("783b"),r=s.n(n);r.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("097d");var n=s("2b0e"),r=s("8c4f"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"overflow-y":"hidden",height:"100vh"}},[s("h1",{staticClass:"eighty"},[e._v("Perfect! Let's move on...")]),s("p",{staticClass:"eighty",staticStyle:{"text-align":"left","padding-left":"10px"}},[e._v("\n    Proceed by filling in your timetable by clicking and dragging over the times you won't be available. Note \n    that if you are only looking for a courses in a particular semester, you may choose to not fill the other\n    semester's timetable.\n  ")]),s("div",{staticClass:"hbox eighty",staticStyle:{height:"calc(100vh - 255px)"}},e._l(["Fall","Winter"],function(t,n){return s("div",{key:t,staticClass:"vbox"},[s("div",{staticClass:"heading"},[e._v(e._s(t))]),s("div",{staticClass:"hbox timetable"},[s("div",{staticClass:"day hours"},[s("div",{staticClass:"heading"},[e._v("Time")]),e._l(e.hours,function(t){return s("div",{key:t,staticClass:"hour"},[s("div",{staticClass:"spacer"}),s("span",[e._v(e._s(t<10?"0"+t:t)+":00")]),s("div",{staticClass:"spacer"})])})],2),e._l(e.days,function(t){return s("div",{key:t,staticClass:"day"},[s("div",{staticClass:"heading"},[e._v("\n                      "+e._s(t)+"\n                  ")]),e._l(e.times,function(r){return s("div",{key:t+r,class:"time"+(r%1?"":" hour")+e.colored(n,t.toUpperCase(),r+.5),on:{click:function(s){e.toggle(n,t.toUpperCase(),r+.5)},mousemove:function(s){return e.turnon(n,t.toUpperCase(),r+.5)(s)},mousedown:function(s){e.mousestart(n,t.toUpperCase(),r+.5)}}})})],2)})],2)])})),s("br"),s("br"),s("button",{staticClass:"primary",on:{click:e.next}},[e._v("NEXT")]),s("button",{staticClass:"primary",staticStyle:{"margin-right":"25px"},on:{click:function(t){e.$store.commit("navigate","/taken")}}},[e._v("\n    BACK\n  ")]),s("button",{staticClass:"primary",staticStyle:{"margin-right":"25px"},on:{click:function(t){e.timetable=[[],[]]}}},[e._v("\n    CLEAR\n  ")])])},i=[],o={name:"Timetable",data:function(){return{tab:"Fall",days:["Monday","Tuesday","Wednesday","Thursday","Friday"],times:[],hours:[],timetable:[[],[]],on:!1}},methods:{toggle:function(e,t,s){this.turnon(e,t,s)({buttons:1})},turnon:function(e,t,s){var n=this,r=JSON.stringify([t,s,s+.5]);return function(t){return!t.buttons||(n.timetable[e].indexOf(r)<0&&n.on?n.timetable[e].push(r):!n.on&&n.timetable[e].indexOf(r)>=0&&n.timetable[e].splice(n.timetable[e].indexOf(r),1),!0)}},mousestart:function(e,t,s){var n=JSON.stringify([t,s,s+.5]);this.on=this.timetable[e].indexOf(n)<0},colored:function(e,t,s){var n=JSON.stringify([t,s,s+.5]);return this.timetable[e].indexOf(n)+1?" black":""},next:function(){this.$store.commit("setTimetable",this.timetable),this.$store.commit("navigate","/results")}},mounted:function(){for(var e=8.5;e<22.5;e+=.5)this.times.push(e),e%1||this.hours.push(e)}},u=o,c=(s("f0f3"),s("2877")),l=Object(c["a"])(u,a,i,!1,null,null,null);l.options.__file="Timetable.vue";var d=l.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"overflow-y":"hidden"},attrs:{id:"app"}},[s("transition",{attrs:{name:"fade"}},["/taken"==e.$store.state.path?s("Taken",{staticStyle:{height:"100vh","box-sizing":"border-box"}}):e._e()],1),s("transition",{attrs:{name:"fade"}},["/timetable"==e.$store.state.path?s("Timetable"):e._e()],1),s("transition",{attrs:{name:"fade"}},["/results"==e.$store.state.path?s("Results"):e._e()],1),s("link",{attrs:{href:"https://fonts.googleapis.com/css?family=Roboto",rel:"stylesheet"}})],1)},h=[],p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"results"},[s("FilterBar",{ref:"filter",attrs:{terms:e.terms,departments:e.departments}}),s("Listing",{attrs:{courses:e.filtered(e.filtered_courses)},on:{search:e.search}}),s("div",{staticClass:"loading"},[e._v("\n        Loading...\n    ")])],1)},m=[],v=(s("7f7f"),s("55dd"),s("ac4d"),s("8a81"),s("ac6a"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sidebar"},[s("h1",{staticStyle:{color:"white",display:"inline-block"}},[e._v("Filter courses")]),s("button",{staticClass:"primary",staticStyle:{"margin-top":"25px"},on:{click:function(t){e.$store.commit("navigate","/timetable")}}},[e._v("\n      BACK\n    ")]),s("CheckboxGroup",{ref:"breadths",attrs:{title:"Breadths"},on:{changed:e.updateBreadths}},[s("Checkbox",{attrs:{text:"BR1: Creative and Cultural Expression",value:1}}),s("Checkbox",{attrs:{text:"BR2: Thoughts, Beliefs and Behaviour",value:2}}),s("Checkbox",{attrs:{text:"BR3: Society and its Institutions",value:3}}),s("Checkbox",{attrs:{text:"BR4: Living Things and their Environment",value:4}}),s("Checkbox",{attrs:{text:"BR5: Physical and Mathematical Universe",value:5}})],1),s("CheckboxGroup",{ref:"campus",attrs:{title:"Campus"},on:{changed:e.updateCampus}},[s("Checkbox",{attrs:{text:"St. George",value:"UTSG"}}),s("Checkbox",{attrs:{text:"Scarborough",value:"UTSC"}}),s("Checkbox",{attrs:{text:"Mississauga",value:"UTM"}})],1),s("CheckboxGroup",{ref:"credits",attrs:{title:"Credits"},on:{changed:e.updateCredits}},[s("Checkbox",{attrs:{text:"Half-year course",value:.5}}),s("Checkbox",{attrs:{text:"Full-year course",value:1}})],1),s("CheckboxGroup",{ref:"terms",attrs:{title:"Terms"},on:{changed:e.updateTerms}},[s("Checkbox",{attrs:{text:"2018 Fall",value:"2018 Fall"}}),s("Checkbox",{attrs:{text:"2019 Winter",value:"2019 Winter"}})],1),s("CheckboxGroup",{ref:"levels",attrs:{title:"Levels"},on:{changed:e.updateLevels}},[s("Checkbox",{attrs:{text:"100-level",value:100}}),s("Checkbox",{attrs:{text:"200-level",value:200}}),s("Checkbox",{attrs:{text:"300-level",value:300}}),s("Checkbox",{attrs:{text:"400-level",value:400}})],1),s("CheckboxGroup",{ref:"medium",attrs:{title:"Medium"},on:{changed:e.updateMedium}},[s("Checkbox",{attrs:{text:"Online-only",value:1}})],1),s("CheckboxGroup",{ref:"duplicates",attrs:{title:"Duplicates"},on:{changed:e.updateDuplicates}},[s("Checkbox",{attrs:{text:"One section per course",value:1}})],1),s("CheckboxGroup",{ref:"departments",attrs:{title:"Departments"},on:{changed:e.updateDepartments}},e._l(e.departments,function(e){return s("Checkbox",{key:e,attrs:{text:e,value:e}})})),s("br"),s("br")],1)}),b=[],y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:"checkbox"+(e.checked?" checked":""),on:{click:e.toggleCheck}},[s("div",{staticClass:"box"},[e.checked?s("span",{staticClass:"tick"}):e._e()]),s("span",[e._v(e._s(e.text))])])},x=[],g={name:"Checkbox",data:function(){return{checked:!1}},props:{text:String},methods:{toggleCheck:function(){this.checked=!this.checked}}},C=g,_=(s("f9ea"),Object(c["a"])(C,y,x,!1,null,null,null));_.options.__file="Checkbox.vue";var k=_.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[e._v(e._s(e.title))]),e._t("default")],2)},O=[],q={name:"CheckboxGroup",data:function(){return{selected:[]}},props:{title:String},updated:function(){var e=this;this.$slots.default&&this.$slots.default.forEach(function(t){t.elm.removeEventListener("click",e.updated(t)),t.selected=!1,t.elm.addEventListener("click",e.updated(t),!0)})},methods:{updated:function(e){var t=this;return function(s){var n=e.data.attrs.value;return e.elm.classList.contains("checked")?t.selected.indexOf(n)>-1&&t.selected.splice(t.selected.indexOf(n),1):-1==t.selected.indexOf(n)&&t.selected.push(n),t.$emit("changed"),!0}}}},S=q,T=(s("6585"),Object(c["a"])(S,$,O,!1,null,null,null));T.options.__file="CheckboxGroup.vue";var w=T.exports,E={name:"FilterBar",components:{Checkbox:k,CheckboxGroup:w},props:["departments"],methods:{updateBreadths:function(){this.$store.commit("setBreadths",this.$refs.breadths.selected)},updateCampus:function(){this.$store.commit("setCampus",this.$refs.campus.selected)},updateTerms:function(){this.$store.commit("setTerms",this.$refs.terms.selected)},updateCredits:function(){this.$store.commit("setCredits",this.$refs.credits.selected)},updateLevels:function(){this.$store.commit("setLevels",this.$refs.levels.selected)},updateDepartments:function(){this.$store.commit("setDepartments",this.$refs.departments.selected)},updateMedium:function(){this.$store.commit("setMedium",this.$refs.medium.selected)},updateDuplicates:function(){this.$store.commit("setDuplicates",this.$refs.duplicates.selected)}},updated:function(){var e=this;console.log("Props updated"),this.$store.state.request.departments.filter(function(t){return e.departments.indexOf(t)<0}).length&&this.$store.commit("setDepartments",this.$store.state.request.departments.filter(function(t){return e.departments.indexOf(t)>-1}))}},B=E,L=(s("0e31"),Object(c["a"])(B,v,b,!1,null,null,null));L.options.__file="FilterBar.vue";var j=L.exports,M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"listing"},[s("div",{staticClass:"search-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"search-box",attrs:{type:"text",value:"",placeholder:"Type to filter..."},domProps:{value:e.query},on:{keyup:e.search,input:function(t){t.target.composing||(e.query=t.target.value)}}})]),s("span",{staticClass:"results-found"},[e._v(e._s(e.courses.length)+" results found")]),e._l(e.courses.slice(0,100),function(e){return s("Course",{key:e.id+e.course,attrs:{info:e}})}),s("br"),s("br")],2)},N=[],F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"course",on:{click:e.open}},[s("b",[e._v(e._s(e.info.course))]),e._v(": "+e._s(e.info.name)+" ("+e._s(e.info.term)+")"),s("br"),s("em",[e._v("Pre-requisites:")]),e._v(" "+e._s(e.info.pre?e.info.pre:"None")),s("br"),s("em",[e._v("Breadths:")]),e._v(" "+e._s(e.info.breadths)+"  \n      \n\n      "),s("br"),s("br"),e._v("\n      "+e._s(e.info.description)+"\n")])},G=[],P="http://coursefinder.utoronto.ca/course-search/search/courseInquiry?methodToCall=start&viewId=CourseDetails-InquiryView&courseId=",D={name:"Course",props:["info"],methods:{open:function(){window.open(P+this.info.id)}}},R=D,U=(s("3ce2"),Object(c["a"])(R,F,G,!1,null,null,null));U.options.__file="Course.vue";var I=U.exports,J={name:"Listing",props:["courses"],components:{Course:I},data:function(){return{query:""}},methods:{search:function(){this.$emit("search",this.query)}}},H=J,A=(s("c945"),Object(c["a"])(H,M,N,!1,null,null,null));A.options.__file="Listing.vue";var W=A.exports,K=s("bc3a"),X=s.n(K),z={name:"Results",components:{FilterBar:j,Listing:W},data:function(){return{courses:[],query:"",path:"/timetable",timetable:[[],[]]}},computed:{filtered_courses:function(){var e=this.$store.state.request,t=[],s=[],n=!0,r=!1,a=void 0;try{for(var i,o=this.courses[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var u=i.value,c=e.breadths.filter(function(e){return u.breadths.indexOf(e)>-1});!(this.valid(e.terms,u.term)&&this.valid(e.campus,u.campus)&&this.valid(e.levels,u.level)&&this.valid(e.credits,u.credits))||!c.length&&e.breadths.length||e.medium.length&&"ONLINE"!=u.times[u.times.length-1][0]||e.duplicates.length&&-1!=s.indexOf(u.id)||(t.push(u),s.push(u.id))}}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return t},departments:function(){var e=[],t=!0,s=!1,n=void 0;try{for(var r,a=this.filtered_courses[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;e.indexOf(i["department"])<0&&e.push(i["department"])}}catch(e){s=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(s)throw n}}return e.sort()}},methods:{valid:function(e,t){return!e.length||e.indexOf(t)+1},refresh:function(){var e=this,t=JSON.stringify(this.$store.state.request);X.a.post("/get-courses",{request:t}).then(function(t){e.courses=t.data,console.log(t),document.getElementsByClassName("loading")[0].style.display="none"})},search:function(e){this.query=e},filtered:function(e){var t=this;return e.filter(function(e){return(e.course.indexOf(t.query.toUpperCase())+1||e.name.toLowerCase().indexOf(t.query.toLowerCase())+1)&&t.valid(t.$store.state.request.departments,e.department)})}},mounted:function(){this.refresh()}},V=z,Q=(s("67b8"),Object(c["a"])(V,p,m,!1,null,null,null));Q.options.__file="Results.vue";var Y=Q.exports,Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"taken"},[s("h1",{staticClass:"eighty",staticStyle:{"padding-left":"10px"}},[e._v("Hey there, help me help you!")]),e._m(0),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.taken,expression:"taken"}],staticClass:"eighty",attrs:{placeholder:"e.g. CSC148H1, CSC165H1"},domProps:{value:e.taken},on:{input:function(t){t.target.composing||(e.taken=t.target.value)}}}),s("br"),s("br"),s("button",{staticClass:"primary",on:{click:e.next}},[e._v("NEXT")])])},ee=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"eighty",staticStyle:{"padding-left":"10px"}},[e._v("\n        I am here to help you find courses you can actually take considering available seats, timetable conflicts, \n        and pre-requisite courses. Start by entering a list of comma-separated courses you've taken or will have\n        taken by the time you plan to take the course you're looking for! Make sure to put the courses in the \n        specified format."),s("br"),s("br"),s("b",[e._v("Note:")]),e._v(' This is not perfect in the sense that sometimes you may receive a course in your results\n        that you can\'t actually take because of requirements like "need 5.0 FCE from this department\'s courses",\n        or "permission of instructor". However, other than that, the tool matches the pre-reqs exactly and should\n        be good enough in most cases. \n    ')])}],te=(s("28a5"),{name:"Taken",data:function(){return{taken:""}},methods:{next:function(){this.$store.commit("setTaken",this.taken.toUpperCase().split(",").map(function(e){return e.trim()}).filter(function(e){return""!=e})),this.$store.commit("navigate","/timetable")}}}),se=te,ne=(s("d021"),Object(c["a"])(se,Z,ee,!1,null,null,null));ne.options.__file="Taken.vue";var re=ne.exports,ae={name:"app",components:{Results:Y,Timetable:d,Taken:re},data:function(){return{courses:[],filtered_courses:[],query:"",timetable:[[],[]]}}},ie=ae,oe=(s("034f"),Object(c["a"])(ie,f,h,!1,null,null,null));oe.options.__file="App.vue";var ue,ce,le=oe.exports,de=[{path:"/",component:le},{path:"/timetable",component:d}],fe=(new r["a"]({routes:de}),de),he=fe,pe=Object(c["a"])(he,ue,ce,!1,null,null,null);pe.options.__file="Routes.vue";pe.exports;var me=s("2f62");n["a"].use(me["a"]);var ve=new me["a"].Store({state:{path:"/taken",request:{breadths:[],campus:[],terms:[],credits:[],timetable:[[],[]],taken:[],departments:[],levels:[],medium:[],duplicates:[]}},mutations:{navigate:function(e,t){e.path=t},setBreadths:function(e,t){e.request.breadths=t},setCampus:function(e,t){e.request.campus=t},setTerms:function(e,t){e.request.terms=t},setCredits:function(e,t){e.request.credits=t},setTimetable:function(e,t){e.request.timetable=t},setTaken:function(e,t){e.request.taken=t},setDepartments:function(e,t){e.request.departments=t},setLevels:function(e,t){e.request.levels=t},setMedium:function(e,t){e.request.medium=t},setDuplicates:function(e,t){e.request.duplicates=t},updateFilter:function(e,t){e.request.breadths=t.breadths,e.request.terms=t.terms,e.request.credits=t.credits,e.request.levels=t.levels,e.request.medium=t.medium,e.request.duplicates=t.duplicates,e.request.campus=t.campus}}}),be=ve;n["a"].use(r["a"]),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(le)},store:be}).$mount("#app")},6585:function(e,t,s){"use strict";var n=s("bd10"),r=s.n(n);r.a},"67b8":function(e,t,s){"use strict";var n=s("e938"),r=s.n(n);r.a},6889:function(e,t,s){},"783b":function(e,t,s){},"90c5":function(e,t,s){},a0d3:function(e,t,s){},bd10:function(e,t,s){},c21b:function(e,t,s){},c945:function(e,t,s){"use strict";var n=s("90c5"),r=s.n(n);r.a},d021:function(e,t,s){"use strict";var n=s("a0d3"),r=s.n(n);r.a},e938:function(e,t,s){},f0f3:function(e,t,s){"use strict";var n=s("0ef7"),r=s.n(n);r.a},f9ea:function(e,t,s){"use strict";var n=s("6889"),r=s.n(n);r.a}});
//# sourceMappingURL=app.6901bb53.js.map